<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="./js/marked.min.js"></script>
    <script type="text/javascript" src="./js/request.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/reader.css">
    <title>阅读器</title>
</head>
<body>
</body>
<script>
    MathJax = {
        tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
    };
    onload = async ()=>{
        let filename = request.getUrlParams(decodeURI(location.href)).file;
        let result = await request.sync_post("getMd",{filename:filename});
        showMd(result.content);
    }
    showMd = function(mdtext){
        document.querySelector("body").innerHTML=marked.parse(mdtext.replace('﻿',''));
        MathJax.typeset();
    }
</script>
</html>